# `main.js`

## Declared Symbols
- `srTooltipMode`
- `autoSaveTimeout`
- `restartAutoSave()`
- `autoSave()`
- `save()`
- `lastOnlineSave`
- `isSaving`
- `disableSaving`
- `cloudConflictDisableSaving`
- `updateTalentNumbers()`
- `countChallengeSquaredReward()`
- `respecTalents()`
- `addNewFeats()`
- `reevaluateTimedAchieve()`
- `countPurchasedTalents()`
- `Fluffy`
- `createVoidMap()`
- `compareVersion()`
- `getTotalHeirloomRefundValue()`
- `updateForemenCount()`
- `toggleAutoJobs()`
- `toggleAutoStructure()`
- `needAnS()`
- `getHazardParityMult()`
- `getHazardGammaBonus()`
- `getCurrentMapObject()`
- `handlePauseMessage()`
- `reevaluateTimedAchieve()`
- `startTrackAchieve()`
- `trackAchievement()`
- `addNewFeats()`
- `loadGigastations()`
- `addMapModifier()`
- `toggleStats()`
- `displayRoboTrimp()`
- `magnetoShriek()`
- `activateShriek()`
- `disableShriek()`
- `displayAllStats()`
- `toggleHideStat()`
- `squaredConfig`
- `getIndividualSquaredReward()`
- `calculateMapCost()`
- `portalClicked()`
- `savePortalColor()`
- `getTotalPortals()`
- `toggleChallengeSquared()`
- `challengeActive()`
- `displayChallenges()`
- `getChallengeSquaredButtonColor()`
- `getC2HighestReached()`
- `selectChallenge()`
- `getSLevel()`
- `getScientistLevel()`
- `getScientistInfo()`
- `confirmAbandonChallenge()`
- `abandonChallengeResetEnemy()`
- `abandonChallenge()`
- `checkChallengeSquaredAllowed()`
- `formatDailySeedDate()`
- `getSpecialSquaredRewards()`
- `getSquaredDescriptionInRun()`
- `viewPortalUpgrades()`
- `screwThisUniverse()`
- `getObsidianStart()`
- `lookingAtCurrentChallenge`
- `swapToCurrentChallenge()`
- `getCurrentChallengePane()`
- `updatePortalChallengeAbandonButton()`
- `getHighestLevelCleared()`
- `getVoidMaxLevel()`
- `setVoidMaxLevel()`
- `unlockPerk()`
- `isPerkUnlocked()`
- `getPerkLevel()`
- `getSpentPerkResource()`
- `getTotalPerkResource()`
- `getLastPortal()`
- `displayPortalUpgrades()`
- `toggleEqualityScale()`
- `manageEqualityStacks()`
- `scaleEqualityScale()`
- `updateEqualityScaling()`
- `updatePerkColor()`
- `updateAllPerkColors()`
- `activateKongBonus()`
- `usingRealTimeOffline`
- `offlineProgress`
- `checkOfflineProgress()`
- `savedOfflineText`
- `trustworthyTrimps()`
- `respecPerks()`
- `portalUniverse`
- `swapPortalUniverse()`
- `updatePortalUniverseBtn()`
- `clearPerks()`
- `countHeliumSpent()`
- `activateClicked()`
- `enablePerkConfirmBtn()`
- `getPerkBuyCount()`
- `buyPortalUpgrade()`
- `selectedPreset`
- `presetTab()`
- `resetPresets()`
- `getPerkPresetGroup()`
- `savePerkPreset()`
- `renamePerkPreset()`
- `loadPerkPreset()`
- `exportPerks()`
- `importPerks()`
- `removePerk()`
- `isNumberBad()`
- `updatePerkLevel()`
- `toggleRemovePerks()`
- `unlockMapStuff()`
- `getPortalUpgradePrice()`
- `getAdditivePrice()`
- `commitPortalUpgrades()`
- `canCommitCarpentry()`
- `checkHandleResourcefulRespec()`
- `clearQueue()`
- `activatePortal()`
- `cancelPortal()`
- `restoreNumTab()`
- `loadEquipment()`
- `scaleLootLevel()`
- `rewardResource()`
- `isScryerBonusActive()`
- `addHelium()`
- `addResCheckMax()`
- `getMaxForResource()`
- `addAvg()`
- `getAvgLootSecond()`
- `curateAvgs()`
- `fireMode()`
- `setGather()`
- `updateBuildSpeed()`
- `setGatherTextAs()`
- `gather()`
- `getPlayerModifier()`
- `calculateTimeToMax()`
- `checkTriggers()`
- `canAffordTwoLevel()`
- `resolvePow()`
- `getEquipPriceMult()`
- `getEquipResPerStat()`
- `canAffordBuilding()`
- `getBuildingItemPrice()`
- `buyBuilding()`
- `getCraftTime()`
- `refundQueueItem()`
- `startQueue()`
- `craftBuildings()`
- `buildBuilding()`
- `setNewCraftItem()`
- `calculatePercentageBuildingCost()`
- `trapThings()`
- `toggleAutoTooltipHelp()`
- `lastAutoJob`
- `buyAutoJobs()`
- `autoBalanceJob()`
- `autoBuyJob()`
- `fireTrimps()`
- `buyJob()`
- `addGeneticist()`
- `removeGeneticist()`
- `getNextGeneticistCost()`
- `freeWorkspace()`
- `freeManyWorkspaces()`
- `calculateMaxAfford()`
- `getTooltipJobText()`
- `canAffordJob()`
- `checkJobItem()`
- `canAffordCoordinationTrimps()`
- `buyUpgrade()`
- `getDesiredGenes()`
- `DecimalBreed`
- `missingTrimps`
- `srLastBreedTime`
- `breedCache`
- `breed()`
- `updateStoredGenInfo()`
- `lastGAToggle`
- `GATimeout`
- `toggleGeneticistassist`
- `customizeGATargets()`
- `log10()`
- `testGymystic()`
- `prestigeEquipment()`
- `calcBaseStats()`
- `getNextPrestigeCost()`
- `getNextPrestigeValue()`
- `getHighestPrestige()`
- `createMap()`
- `checkMapLevelInput()`
- `incrementMapLevel()`
- `saveAdvMaps()`
- `getMapPreset()`
- `selectAdvMapsPreset()`
- `getPresetDescription()`
- `updatePresetColor()`
- `getMapZoneOffset()`
- `resetAdvMaps()`
- `updateMapNumbers()`
- `hideAdvMaps()`
- `getUnlockZone()`
- `setAdvMaps2UnlockText()`
- `checkAdvMaps2()`
- `populateSpecialModifiers()`
- `setAdvExtraZoneText()`
- `updateExtraLevelColors()`
- `affordMaxLevelsPerfect()`
- `affordMaxLevelsCheap()`
- `getMapSliderValue()`
- `getMapBiomeSetting()`
- `getSpecialModifierSetting()`
- `checkPerfectChecked()`
- `getExtraMapLevels()`
- `checkSlidersForPerfect()`
- `adjustMap()`
- `initializeInputText()`
- `mapSpecialModifierConfig`
- `cacheReward()`
- `updateMapCost()`
- `checkMaxSliders()`
- `getRandomMapValue()`
- `getMapMinMax()`
- `buyMap()`
- `checkVoidMap()`
- `seededRandom()`
- `getRandomIntSeeded()`
- `buffVoidMaps()`
- `buffVoidMaps200()`
- `addVoidAlert()`
- `voidBuffConfig`
- `setVoidBuffTooltip()`
- `heirloomsShown`
- `selectedMod`
- `toggleHeirlooms()`
- `scaleHeirloomModUniverse()`
- `getHeirloomBonus()`
- `getParityBonus()`
- `calculateParityBonus()`
- `getHazardParityMult()`
- `calcHeirloomBonusDecimal()`
- `calcHeirloomBonus()`
- `populateHeirloomWindow()`
- `heirloomSort()`
- `sortHeirlooms()`
- `displayCarriedHeirlooms()`
- `getNextCarriedCost()`
- `getMaxCarriedHeirlooms()`
- `displayAddCarriedBtn()`
- `toggleHeirloomHelp()`
- `toggleHeirloomChances()`
- `displayExtraHeirlooms()`
- `selectHeirloom()`
- `recycleHeirloom()`
- `recycleAllExtraHeirlooms()`
- `recycleAllHeirloomsClicked()`
- `recalculateHeirloomBonuses()`
- `unequipHeirloom()`
- `toggleHeirloomOnPortal()`
- `checkEquipPortalHeirlooms()`
- `equipHeirloomById()`
- `equipHeirloom()`
- `checkLowestHeirloom()`
- `carryHeirloom()`
- `stopCarryHeirloom()`
- `getSelectedHeirloom()`
- `hideHeirloomSelectButtons()`
- `generateHeirloomIcon()`
- `getHeirloomIcon()`
- `htmlEncode()`
- `escapeRegExp()`
- `replaceAll()`
- `saveHeirloomIcon()`
- `lastDisplayedHeirloom`
- `displaySelectedHeirloom()`
- `htmlTextReplace()`
- `renameHeirloom()`
- `closeHeirPopup()`
- `swapFromPopup()`
- `selectMod()`
- `checkModCap()`
- `getModUpgradeValue()`
- `getModUpgradeCost()`
- `getStepPriceIncrease()`
- `getTotalHeirloomRefundValue()`
- `getHeirloomRecycleValue()`
- `getHeirloomBaseValue()`
- `getRecycleValueByRarity()`
- `setupDummyHeirloom()`
- `countPriceOfUpgrades()`
- `upgradeMod()`
- `getNuSpendMult()`
- `getModReplaceCost()`
- `replaceMod()`
- `updateHeirloomSpirestoneCount()`
- `buildModOptionDdl()`
- `lastMainHeirIndex`
- `setHeirRareText()`
- `changeHeirloomRarityRange()`
- `checkSelectedModsFor()`
- `createHeirloom()`
- `getRandomBySteps()`
- `getHeirloomZoneBreakpoint()`
- `getUnbuffedHeirloomZoneBreakpoint()`
- `getHeirloomRarityRanges()`
- `getHeirloomRarity()`
- `getRandomMapName()`
- `buildMapGrid()`
- `getMapIndex()`
- `getUberEmpowerment()`
- `getEmpowerment()`
- `getNatureStartZone()`
- `stackPoison()`
- `handlePoisonDebuff()`
- `handleIceDebuff()`
- `handleWindDebuff()`
- `handleDominationDebuff()`
- `setEmpowerTab()`
- `updateEmpowerCosts()`
- `checkAndFormatTokens()`
- `getRetainModifier()`
- `resetEmpowerStacks()`
- `natureTooltip()`
- `displayNature()`
- `rewardToken()`
- `updateNatureInfoSpans()`
- `naturePurchase()`
- `dailyReduceEnlightenmentCost()`
- `getNextNatureCost()`
- `mutations`
- `mutationEffects`
- `visualMutations`
- `startTheMagma()`
- `decayNurseries()`
- `getMagmiteReward()`
- `canAffordGeneratorUpgrade()`
- `getGeneratorFuelCap()`
- `increaseTheHeat()`
- `updateGeneratorInfo()`
- `saveGenStateConfig()`
- `getGenStateConfigTooltip()`
- `refreshGenStateConfigTooltip()`
- `toggleGenStateConfig()`
- `getGenStateConfigBtnText()`
- `checkGenStateSwitch()`
- `getGeneratorHtml()`
- `mousedOverClock`
- `updatePauseBtn()`
- `pauseGenerator()`
- `saveSupervisionSetting()`
- `countTotalHousingBuildings()`
- `scaleNumberForBonusHousing()`
- `buyGeneratorUpgrade()`
- `buyPermanentGeneratorUpgrade()`
- `updateGeneratorUpgradeHtml()`
- `getGeneratorTickTime()`
- `canGeneratorTick()`
- `lastViewedDGUpgrade`
- `showGeneratorUpgradeInfo()`
- `thisTime`
- `updateNextGeneratorTickTime()`
- `updateGeneratorFuel()`
- `changeGeneratorState()`
- `generatorTick()`
- `addMaxHousing()`
- `getGeneratorTickAmount()`
- `getFuelBurnRate()`
- `getMagmiteDecayAmt()`
- `canSkeletimp`
- `buildGrid()`
- `getSeededRandomFromArray()`
- `getAmountInRange()`
- `setMutationTooltip()`
- `setVoidCorruptionIcon()`
- `getRandomBadGuy()`
- `getExoticChance()`
- `convertUnlockIconToSpan()`
- `convertIconNameToSpan()`
- `addSpecialToLast()`
- `addSpecialToNthLast()`
- `addSpecials()`
- `getFarmlandsResType()`
- `findHomeForSpecial()`
- `liquifiedZone()`
- `dropPrestiges()`
- `drawGrid()`
- `easterEggClicked()`
- `fightManual()`
- `pauseFight()`
- `recycleBelow()`
- `recycleMap()`
- `getRecycleValue()`
- `updateMapCredits()`
- `messageMapCredits()`
- `mapsClicked()`
- `mapsSwitch()`
- `toggleMapGridHtml()`
- `clearMapDescription()`
- `setNonMapBox()`
- `repeatClicked()`
- `selectMap()`
- `runMap()`
- `getHousingMultiplier()`
- `battleCoordinator()`
- `battle()`
- `checkAmalgamate()`
- `getBadCoordLevel()`
- `getPierceAmt()`
- `makeIconEffectHTML()`
- `startFight()`
- `getOverkillerCount()`
- `canU2Overkill()`
- `refillEnergyShield()`
- `updateAllBattleNumbers()`
- `toZalgo()`
- `updateGoodBar()`
- `getEnergyShieldMult()`
- `getMaxEnergyShield()`
- `updateBadBar()`
- `getBaseBlock()`
- `applyMultipliers()`
- `applyDailyMultipliers()`
- `randomIntInclusive()`
- `calculateDamage()`
- `updateForemenCount()`
- `tryScry()`
- `tryWorship()`
- `countRemainingEssenceDrops()`
- `calculateScryingReward()`
- `getHighestUnlockedTalentTier()`
- `getHighestIdealRow()`
- `getTalentsPurchased()`
- `displayTalents()`
- `respecTalents()`
- `purchaseTalent()`
- `completeTalentPurchase()`
- `purchaseTalentRow()`
- `canPurchaseRow()`
- `getHighestPurchaseableRow()`
- `getHighestTalentTier()`
- `getAllowedTalentTiers()`
- `initTalents()`
- `checkAffordableTalents()`
- `getNextTalentCost()`
- `getTotalTalentCost()`
- `checkAverageExotics()`
- `checkIfSpireWorld()`
- `rewardLiquidZone()`
- `checkIfLiquidZone()`
- `liquifyZone()`
- `nextU2SpireFloor()`
- `nextWorld()`
- `checkMapAtZoneWorld()`
- `runMapAtZone()`
- `purgeBionics()`
- `getHighestBionic()`
- `bwRewardUnlocked()`
- `getNextLockedBwReward()`
- `checkNewBionicUpgrades()`
- `autoUnlockHousing()`
- `startSpire()`
- `handleExitSpireBtn()`
- `getSpireStats()`
- `finishU2Spire()`
- `deadInSpire()`
- `endSpire()`
- `getCurrentWorldCell()`
- `getCurrentMapCell()`
- `clearSpireMetals()`
- `getSpireStory()`
- `u2SpireBonuses`
- `scruffySpireStory()`
- `rewardU2Spire()`
- `giveSpireReward()`
- `rewardSpire1()`
- `goldenUpgradesShown`
- `displayGoldenUpgrades()`
- `removeGoldenUpgrades()`
- `getAvailableGoldenUpgrades()`
- `getGoldenFrequency()`
- `buyGoldenUpgrade()`
- `unlockAutoGolden()`
- `giveHeliumReward()`
- `checkHousing()`
- `assignExtraWorkers()`
- `distributeToChallenges()`
- `dailyModifiers`
- `getCurrentDailyDescription()`
- `testAllWeights()`
- `startDaily()`
- `countDailyWeight()`
- `getDailyHeliumValue()`
- `handleFinishDailyBtn()`
- `abandonDaily()`
- `checkCompleteDailies()`
- `updateDailyStacks()`
- `updateDailyClock()`
- `getDailyTimeString()`
- `dayOfWeek()`
- `getDailyTopText()`
- `nextDaily`
- `lastAdd`
- `readingDaily`
- `getDailyChallenge()`
- `getDailyRewardText()`
- `testLastAdd`
- `testDailySpread()`
- `everythingInArrayGreaterEqual()`
- `fightLoops`
- `rewardingTimeoutHeirlooms`
- `redCritCounter`
- `fight()`
- `reduceSoldierHealth()`
- `addSoldierHealth()`
- `getPlaguebringerModifier()`
- `getNextVoidId()`
- `getNextBwId()`
- `getCritText()`
- `getPlayerDoubleCritChance()`
- `getPlayerCritChance()`
- `getPlayerCritDamageMult()`
- `getMegaCritDamageMult()`
- `manageLeadStacks()`
- `updateToxicityStacks()`
- `updateLivingStacks()`
- `checkCrushedCrit()`
- `updateElectricityStacks()`
- `updateElectricityTip()`
- `updateAntiStacks()`
- `updateTitimp()`
- `updateNomStacks()`
- `updateBalanceStacks()`
- `updateGammaStacks()`
- `manageStacks()`
- `buyEquipment()`
- `levelEquipment()`
- `affordOneTier()`
- `fadeIn()`
- `autoTrap()`
- `planetBreaker()`
- `restoreGrid()`
- `setFormation()`
- `unlockFormation()`
- `hideFormations()`
- `boneTemp`
- `bonesShown`
- `showBones()`
- `heliumOrRadon()`
- `heliumIcon()`
- `updateImportButton()`
- `updateImports()`
- `selectImp()`
- `hideBones()`
- `simpleSeconds()`
- `scaleToCurrentMap()`
- `scaleLootBonuses()`
- `addBoost()`
- `toggleMinusRes()`
- `checkBundleForImp()`
- `addToBundle()`
- `purchaseBundleClicked()`
- `purchaseBundle()`
- `purchaseImport()`
- `purchaseMisc()`
- `purchaseSingleRunBonus()`
- `displaySingleRunBonuses()`
- `displayPermaBoneBonuses()`
- `getNextPermaBonePrice()`
- `purchasePermaBoneBonus()`
- `successPurchaseFlavor()`
- `updateBones()`
- `updateBoneBtnColors()`
- `boostHe()`
- `countUnpurchasedImports()`
- `showPurchaseBones()`
- `hidePurchaseBones()`
- `kredPurchase()`
- `startBundling()`
- `onPurchaseResult()`
- `sugarRush`
- `givePumpkimpLoot()`
- `activateTurkimpPowers()`
- `givePresimptLoot()`
- `updateTurkimpTime()`
- `formatMinutesForDescriptions()`
- `formatSecondsForDescriptions()`
- `formatSecondsForZoneTime()`
- `getMinutesThisPortal()`
- `costUpdatesTimeout()`
- `toggleVoidMaps()`
- `toggleAllAutoStructures()`
- `setAllAutoStructurePercent()`
- `getAutoStructureSetting()`
- `toggleAutoStructure()`
- `getAutoJobsSetting()`
- `toggleAutoJobs()`
- `toggleAutoEquip()`
- `getAutoGoldenSetting()`
- `setAutoGoldenSetting()`
- `lastAutoGoldenToggle`
- `toggleAutoGolden()`
- `saveAutoJobsConfig()`
- `validateJobRatios()`
- `saveAutoStructureConfig()`
- `saveAutoEquipConfig()`
- `buyAutoStructures()`
- `getAutoEquipSetting()`
- `setAllAutoEquipPercent()`
- `toggleAutoEquipHighestTier()`
- `uncheckAutoEquip()`
- `buyAutoEquip()`
- `toggleAutoTrap()`
- `toggleAutoStorage()`
- `autoStorage()`
- `toggleAutoUpgrades()`
- `lastAutoPrestigeToggle`
- `pantsMode`
- `toggleAutoPrestiges()`
- `autoUpgrades()`
- `archoGolden`
- `autoGoldenUpgrades()`
- `autoPrestiges()`
- `getCheapestPrestigeUpgrade()`
- `lastPurchasedPrestige`
- `autoBuyUpgrade()`
- `playFabId`
- `enablePlayFab()`
- `tryPlayFabAutoLogin()`
- `getPlayFabLoginHTML()`
- `switchForm()`
- `playFabRecoverInfo()`
- `playFabRecoverCallback()`
- `switchFormToRecovery()`
- `playFabRegisterPlayFabUser()`
- `playFabLoginWithPlayFab()`
- `playFabLoginWithKongregate()`
- `playFabLoginCallback()`
- `cancelPlayFab()`
- `playFabSaveCheck()`
- `playFabSaveCheckCallback()`
- `playFabFinishLogin()`
- `saveToPlayFab()`
- `playFabSaveErrors`
- `saveToPlayFabCallback()`
- `playFabAttemptReconnect()`
- `loadFromPlayFab()`
- `loadFromPlayFabCallback()`
- `storePlayFabInfo()`
- `readPlayFabInfo()`
- `loops`
- `gameLoop()`
- `runEverySecond()`
- `getGameTime()`
- `gameTimeout()`
- `runGameLoop()`
- `updatePortalTimer()`
- `formatSecondsAsClock()`
- `preventZoom()`
- `zoomShortcut()`
- `mapLevelHotkey()`
- `shiftPressed`
- `ctrlPressed`
- `gameUnfocused()`
- `load()`
- `makeScreenreaderTooltips()`
- `makeAccessibleTooltip()`
- `keyTooltip()`
- `usingScreenReader`
- `portalWindowOpen`

## Referenced Symbols
### unknown
- `kongregate`
- `LZString`
- `nw`
- `saveWindowSettings()`
- `greenworks`
- `saveToSteam()`
- `Decimal`
- `loadFromSteam()`
- `mutTreeWrapper`

### `updates.js`
- `message()`
- `postMessages()`
- `tooltip()`
- `toggleSetting()`
- `resetGame()`
- `addNewSetting()`
- `addQueueItem()`
- `unlockUpgrade()`
- `unlockJob()`
- `achievementCompatibilityUnlock()`
- `checkAchieve()`
- `giveSingleAchieve()`
- `calculateAchievementBonus()`
- `cancelTooltip()`
- `displayPerksBtn()`
- `screenReaderSummary()`
- `buildNiceCheckbox()`

### `config.js`
- `game`

### `objects.js`
- `autoBattle`
- `u2Mutations`
- `alchObj`
- `holidayObj`

### `playerSpire.js`
- `playerSpire`
